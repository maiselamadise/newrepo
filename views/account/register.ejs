<div class="cse-container">
  <div class="register-wrapper">

    <% if (title) { %>
      <h1 class="page-title"><%= title %></h1>
    <% } %>

    <% if (typeof messages !== "undefined") { %>
      <%- messages() %>
    <% } %>

    <% if (errors && errors.array && errors.array().length > 0) { %>
      <div class="error-messages">
        <ul>
          <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <div class="register-form-container">
      <p class="form-notice">ALL FIELDS ARE REQUIRED.</p>

      <form action="/account/register" method="post" class="register-form">
        
        <div class="form-group">
          <label for="account_firstname">First Name:</label>
          <input
            type="text"
            id="account_firstname"
            name="account_firstname"
            required
            value="<%= account_firstname || '' %>"
          >
        </div>

        <div class="form-group">
          <label for="account_lastname">Last Name:</label>
          <input
            type="text"
            id="account_lastname"
            name="account_lastname"
            required
            value="<%= account_lastname || '' %>"
          >
        </div>

        <div class="form-group">
          <label for="account_email">Email Address:</label>
          <input
            type="email"
            id="account_email"
            name="account_email"
            required
            value="<%= account_email || '' %>"
          >
        </div>

        <div class="form-group">
          <label for="account_password">Password:</label>

          <div class="password-container">
            <input
              type="password"
              id="account_password"
              name="account_password"
              required
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{12,}$"
              title="Minimum 12 characters, 1 uppercase, 1 number, 1 special character."
            >

            <button type="button" id="pswdBtn" class="password-toggle">
              <span id="toggle-text">Show Password</span>
            </button>
          </div>

          <div class="password-requirements">
            <p>Password must contain:</p>
            <ul>
              <li>At least 12 characters</li>
              <li>At least 1 capital letter</li>
              <li>At least 1 number</li>
              <li>At least 1 special character</li>
            </ul>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-register">Register</button>
        </div>
      </form>

      <div class="login-link">
        <p>Already have an account? <a href="/account/login">Sign in here</a></p>
      </div>

    </div>
  </div>
</div>
